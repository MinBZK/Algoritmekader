<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Other Page</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex; 
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            background-color: #f0f0f0;
        }

        h1 {
            color: #333;
        }

        .selected-maatregelen-list {
            list-style: none;
            padding: 0;
            margin: 20px 0;
            width: 300px;
        }

        .selected-maatregelen-list li {
            background-color: #fff;
            padding: 10px;
            margin: 5px 0;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .button-container {
            margin-top: 20px;
        }

        .start-project-button {
            background-color: #007bff;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }

        .start-project-button:hover {
            background-color: #0056b3;
        }
    </style>
</head>

<body>
    <h1>Welkom in de TAD tool</h1>
    <h2>Dit zijn uw geselecteerde maatregelen</h2>
    <ul class="selected-maatregelen-list"></ul>

    <div class="button-container">
        <button class="start-project-button" onclick="startProject()">Start Project</button>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            function getUrlParameter(name) {
                name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
                var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
                var results = regex.exec(location.search);
                return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
            }

            const maatregelenData = getUrlParameter('maatregelen');
            console.log("Maatregelen data from URL:", maatregelenData);

            if (maatregelenData) {
                const selectedMaatregelen = JSON.parse(maatregelenData);

                const maatregelenList = document.querySelector('.selected-maatregelen-list');
                selectedMaatregelen.forEach(maatregel => {
                    const li = document.createElement('li');
                    li.textContent = maatregel.title;
                    maatregelenList.appendChild(li);
                });

                console.log("Selected Maatregelen:", selectedMaatregelen);
            } else {
                console.log("No maatregelen data found in URL.");
            }
        });

        function startProject() {
            // Add functionality to start the project here
            alert('Starting project with selected maatregelen!');
        }
    </script>
</body>

</html>